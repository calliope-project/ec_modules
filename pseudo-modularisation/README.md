# Pseudo-modularisation

This approach is meant to be an improvement over the current setup in EC and SCEC. Although it helps to keep the workflow tidier, it does not really achieve "true" modularity, since modules are still dependent on the main workflow and live on the same repository.

It is based on Snakemake's [`module` command](https://snakemake.readthedocs.io/en/stable/snakefiles/modularization.html#modules).

**IMPORTANT:** git does not add empty folders, so the repo does not show the full file structure. Run `snakemake -c 1` to get a better view of the setup!

Pros:

- Module configuration is fully isolated (through workarounds).
- Inputs can be clearly defined via the configuration.
- Output files clearly named and generated by standardising a `rule: output` at the bottom of each module.
- Improved file structure, making things easier to find.
- Clearer names in DAG, and guaranteed avoidance of rule name conflicts.

Cons:

- No containerization due to Snakemake's operation: `configfile` must be defined outside the module's `Snakefile`, and modules share a common `env` location.
- All modules are still present in the same repository.
- The DAG is still cluttered due to all rules being present.
- Proper debugging is still not possible.
